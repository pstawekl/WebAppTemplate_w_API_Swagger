{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/STW/OneDrive/Dokumenty/VSC/projekt na studia/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/STW/OneDrive/Dokumenty/VSC/projekt na studia/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/STW/OneDrive/Dokumenty/VSC/projekt na studia/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import'bootstrap/dist/css/bootstrap.css';import'./styles/object.css';import{Form,Button}from\"react-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faArrowLeft}from\"@fortawesome/free-solid-svg-icons\";import{useNavigate}from\"react-router-dom\";import{ObjectApi}from\"../apis\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function CreatePortByApi(){var _useState=useState({id:'',description:'',value:''}),_useState2=_slicedToArray(_useState,2),object=_useState2[0],setObject=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),resStatus=_useState4[0],setResStatus=_useState4[1];var navigate=useNavigate();function clearForm(){document.getElementById(\"txtTankName\").value=\"\";document.getElementById(\"txtTankAddress\").value=\"\";document.getElementById(\"txtTankType\").value=\"\";document.getElementById(\"txtTankId\").value=\"\";}function ResponseToApi(){return _ResponseToApi.apply(this,arguments);}function _ResponseToApi(){_ResponseToApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var objectReq,objectApi;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(object.description!=\"undefined\"&&object.value!=\"undefined\"&&object.id!=\"undefined\"){try{objectReq={modelObject:object};objectApi=new ObjectApi();console.log(object);objectApi.createObject(objectReq).then(function(){setResStatus(200);clearForm();});setTimeout(function(){return navigate('/object');},1500);}catch(err){console.error(err);}}else{setResStatus(401);}case 1:case\"end\":return _context.stop();}}},_callee);}));return _ResponseToApi.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[resStatus===400?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:/*#__PURE__*/_jsxs(\"p\",{children:[resStatus,\" - Niespodziewany b\\u0142\\u0105d.\"]})}):resStatus===200?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",role:\"alert\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Obiekt zosta\\u0142 poprawnie dodany do bazy\"})}):resStatus===401?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:/*#__PURE__*/_jsxs(\"p\",{children:[resStatus,\" - Wype\\u0142nij wszystkie pola.\"]})}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,className:\"fontAwesomeButton\",onClick:function onClick(){return navigate('/object');}}),\" Utw\\xF3rz nowy obiekt\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Form,{className:\"requestForm\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Opis obiektu:\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"txtDescription\",type:\"text\",placeholder:\"podaj opis obiektu...\",onKeyDown:function onKeyDown(event){if(event.key===\"Enter\"){setObject({id:object.id,description:document.getElementById(\"txtDescription\").value,value:object.value});}},onChange:function onChange(event){setObject({id:object.id,description:event.target.value,value:object.value});}}),/*#__PURE__*/_jsx(Form.Label,{children:\"Warto\\u015B\\u0107 obiektu:\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"txtValue\",type:\"text\",placeholder:\"podaj warto\\u015B\\u0107 obiektu...\",onKeyDown:function onKeyDown(event){if(event.key===\"Enter\"){setObject({id:object.id,description:object.description,value:document.getElementById(\"txtValue\").value});}},onChange:function onChange(event){setObject({id:object.id,description:object.description,value:event.target.value});}}),/*#__PURE__*/_jsx(Form.Label,{children:\"Id obiektu:\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"txtObjectId\",type:\"text\",placeholder:\"podaj id obiektu...\",onKeyDown:function onKeyDown(event){if(event.key===\"Enter\"){setObject({id:document.getElementById(\"txtObjectId\").value,description:object.description,value:object.value});}},onChange:function onChange(event){setObject({id:event.target.value,description:object.description,value:object.value});}}),/*#__PURE__*/_jsxs(Form.Text,{className:\"bottom-text\",color:\"gray\",children:[\"przyk\\u0142adowe id zbiornika:\",/*#__PURE__*/_jsx(\"i\",{children:\" tank1\"})]}),/*#__PURE__*/_jsx(Button,{className:\"btn-dark\",variant:\"dark\",type:\"submit\",onClick:function onClick(event){event.preventDefault();ResponseToApi();},children:\"Utw\\xF3rz\"})]})]});}","map":{"version":3,"names":["React","useState","Form","Button","FontAwesomeIcon","faArrowLeft","useNavigate","ObjectApi","CreatePortByApi","id","description","value","object","setObject","resStatus","setResStatus","navigate","clearForm","document","getElementById","ResponseToApi","objectReq","modelObject","objectApi","console","log","createObject","then","setTimeout","err","error","event","key","target","preventDefault"],"sources":["C:/Users/STW/OneDrive/Dokumenty/VSC/projekt na studia/frontend/src/pages/createObject.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles/object.css'\nimport { Form, Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ModelObject as Object } from \"../models/ModelObject\";\nimport { ObjectApi, CreateObjectRequest } from \"../apis\";\n\nexport default function CreatePortByApi(): JSX.Element {\n    let [object, setObject] = useState<Object>({ id: '', description: '', value: '' });\n    let [resStatus, setResStatus] = useState<number>(0);\n    const navigate = useNavigate();\n\n    function clearForm() {\n        (document.getElementById(\"txtTankName\") as HTMLInputElement).value = \"\";\n        (document.getElementById(\"txtTankAddress\") as HTMLInputElement).value = \"\";\n        (document.getElementById(\"txtTankType\") as HTMLInputElement).value = \"\";\n        (document.getElementById(\"txtTankId\") as HTMLInputElement).value = \"\";\n    }\n\n    async function ResponseToApi() {\n        if (object.description != \"undefined\" && object.value != \"undefined\" && object.id != \"undefined\") {\n            try {\n                const objectReq: CreateObjectRequest = {  modelObject: object };\n                const objectApi = new ObjectApi();\n                console.log(object)\n                objectApi.createObject(objectReq).then(() => { setResStatus(200); clearForm() });\n\n                setTimeout(() => navigate('/object'), 1500);\n            } catch (err) {\n                console.error(err);\n            }\n        } else {\n            setResStatus(401);\n        }\n    }\n\n    return (\n        <div className=\"body\">\n            {(resStatus === 400\n                ?\n                <div className=\"alert alert-danger\" role=\"alert\">\n                    <p>{resStatus} - Niespodziewany błąd.</p>\n                </div>\n                :\n                (resStatus === 200 ? <div className=\"alert alert-success\" role=\"alert\">\n                    <p>Obiekt został poprawnie dodany do bazy</p>\n                </div> : (resStatus === 401 ? <div className=\"alert alert-danger\" role=\"alert\">\n                    <p>{resStatus} - Wypełnij wszystkie pola.</p>\n                </div> : <div></div>))\n            )}\n            <h3>{<FontAwesomeIcon icon={faArrowLeft} className='fontAwesomeButton' onClick={() => navigate('/object')} />} Utwórz nowy obiekt</h3>\n            <hr />\n            <Form className=\"requestForm\">\n                <Form.Label>Opis obiektu:</Form.Label>\n                <Form.Control id=\"txtDescription\" type=\"text\" placeholder=\"podaj opis obiektu...\"\n                    onKeyDown={(event) => {\n                        if (event.key === \"Enter\") {\n                            setObject({ id: object.id, description: (document.getElementById(\"txtDescription\") as HTMLInputElement).value, value: object.value});\n                        }\n                    }}\n                    onChange={(event) => { setObject({ id: object.id, description: event.target.value, value: object.value }); }} />\n                <Form.Label>Wartość obiektu:</Form.Label>\n                <Form.Control id=\"txtValue\" type=\"text\" placeholder=\"podaj wartość obiektu...\"\n                    onKeyDown={(event) => {\n                        if (event.key === \"Enter\") {\n                            setObject({ id: object.id, description: object.description, value: (document.getElementById(\"txtValue\") as HTMLInputElement).value });\n                        }\n                    }}\n                    onChange={(event) => { setObject({ id: object.id, description: object.description, value: event.target.value }); }} />\n                <Form.Label>Id obiektu:</Form.Label>\n                <Form.Control id=\"txtObjectId\" type=\"text\" placeholder=\"podaj id obiektu...\"\n                    onKeyDown={(event) => {\n                        if (event.key === \"Enter\") {\n                            setObject({ id: (document.getElementById(\"txtObjectId\") as HTMLInputElement).value, description: object.description, value: object.value });\n                        }\n                    }}\n                    onChange={(event) => { setObject({ id: event.target.value, description: object.description, value: object.value }); }} />\n                <Form.Text className=\"bottom-text\" color=\"gray\">przykładowe id zbiornika:<i> tank1</i></Form.Text>\n                <Button className=\"btn-dark\" variant=\"dark\" type=\"submit\" onClick={(event) => { event.preventDefault(); ResponseToApi() }}>\n                    Utwórz\n                </Button>\n            </Form>\n        </div>\n    );\n}\n\n"],"mappings":"4cAAA,MAAOA,MAAP,EAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,kCAAP,CACA,MAAO,qBAAP,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,WAAT,KAA4B,mCAA5B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,OAASC,SAAT,KAA+C,SAA/C,C,wFAEA,cAAe,SAASC,gBAAT,EAAwC,CACnD,cAA0BP,QAAQ,CAAS,CAAEQ,EAAE,CAAE,EAAN,CAAUC,WAAW,CAAE,EAAvB,CAA2BC,KAAK,CAAE,EAAlC,CAAT,CAAlC,wCAAKC,MAAL,eAAaC,SAAb,eACA,eAAgCZ,QAAQ,CAAS,CAAT,CAAxC,yCAAKa,SAAL,eAAgBC,YAAhB,eACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAEA,QAASW,UAAT,EAAqB,CAChBC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAD,CAA6DR,KAA7D,CAAqE,EAArE,CACCO,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAD,CAAgER,KAAhE,CAAwE,EAAxE,CACCO,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAD,CAA6DR,KAA7D,CAAqE,EAArE,CACCO,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAD,CAA2DR,KAA3D,CAAmE,EAAnE,CACH,CAVkD,QAYpCS,cAZoC,mJAYnD,6JACI,GAAIR,MAAM,CAACF,WAAP,EAAsB,WAAtB,EAAqCE,MAAM,CAACD,KAAP,EAAgB,WAArD,EAAoEC,MAAM,CAACH,EAAP,EAAa,WAArF,CAAkG,CAC9F,GAAI,CACMY,SADN,CACuC,CAAGC,WAAW,CAAEV,MAAhB,CADvC,CAEMW,SAFN,CAEkB,GAAIhB,UAAJ,EAFlB,CAGAiB,OAAO,CAACC,GAAR,CAAYb,MAAZ,EACAW,SAAS,CAACG,YAAV,CAAuBL,SAAvB,EAAkCM,IAAlC,CAAuC,UAAM,CAAEZ,YAAY,CAAC,GAAD,CAAZ,CAAmBE,SAAS,GAAI,CAA/E,EAEAW,UAAU,CAAC,iBAAMZ,SAAQ,CAAC,SAAD,CAAd,EAAD,CAA4B,IAA5B,CAAV,CACH,CAAC,MAAOa,GAAP,CAAY,CACVL,OAAO,CAACM,KAAR,CAAcD,GAAd,EACH,CACJ,CAXD,IAWO,CACHd,YAAY,CAAC,GAAD,CAAZ,CACH,CAdL,sDAZmD,gDA6BnD,mBACI,aAAK,SAAS,CAAC,MAAf,WACMD,SAAS,GAAK,GAAd,cAEE,YAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,uBACI,qBAAIA,SAAJ,uCADJ,EAFF,CAMGA,SAAS,GAAK,GAAd,cAAoB,YAAK,SAAS,CAAC,qBAAf,CAAqC,IAAI,CAAC,OAA1C,uBACjB,kEADiB,EAApB,CAESA,SAAS,GAAK,GAAd,cAAoB,YAAK,SAAS,CAAC,oBAAf,CAAoC,IAAI,CAAC,OAAzC,uBAC1B,qBAAIA,SAAJ,sCAD0B,EAApB,cAED,cAXjB,cAaI,mCAAK,KAAC,eAAD,EAAiB,IAAI,CAAET,WAAvB,CAAoC,SAAS,CAAC,mBAA9C,CAAkE,OAAO,CAAE,yBAAMW,SAAQ,CAAC,SAAD,CAAd,EAA3E,EAAL,4BAbJ,cAcI,aAdJ,cAeI,MAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,wBACI,KAAC,IAAD,CAAM,KAAN,4BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,gBAAjB,CAAkC,IAAI,CAAC,MAAvC,CAA8C,WAAW,CAAC,uBAA1D,CACI,SAAS,CAAE,mBAACe,KAAD,CAAW,CAClB,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACvBnB,SAAS,CAAC,CAAEJ,EAAE,CAAEG,MAAM,CAACH,EAAb,CAAiBC,WAAW,CAAGQ,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAD,CAAgER,KAA9F,CAAqGA,KAAK,CAAEC,MAAM,CAACD,KAAnH,CAAD,CAAT,CACH,CACJ,CALL,CAMI,QAAQ,CAAE,kBAACoB,KAAD,CAAW,CAAElB,SAAS,CAAC,CAAEJ,EAAE,CAAEG,MAAM,CAACH,EAAb,CAAiBC,WAAW,CAAEqB,KAAK,CAACE,MAAN,CAAatB,KAA3C,CAAkDA,KAAK,CAAEC,MAAM,CAACD,KAAhE,CAAD,CAAT,CAAqF,CANhH,EAFJ,cASI,KAAC,IAAD,CAAM,KAAN,yCATJ,cAUI,KAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,IAAI,CAAC,MAAjC,CAAwC,WAAW,CAAC,oCAApD,CACI,SAAS,CAAE,mBAACoB,KAAD,CAAW,CAClB,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACvBnB,SAAS,CAAC,CAAEJ,EAAE,CAAEG,MAAM,CAACH,EAAb,CAAiBC,WAAW,CAAEE,MAAM,CAACF,WAArC,CAAkDC,KAAK,CAAGO,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAD,CAA0DR,KAAnH,CAAD,CAAT,CACH,CACJ,CALL,CAMI,QAAQ,CAAE,kBAACoB,KAAD,CAAW,CAAElB,SAAS,CAAC,CAAEJ,EAAE,CAAEG,MAAM,CAACH,EAAb,CAAiBC,WAAW,CAAEE,MAAM,CAACF,WAArC,CAAkDC,KAAK,CAAEoB,KAAK,CAACE,MAAN,CAAatB,KAAtE,CAAD,CAAT,CAA2F,CANtH,EAVJ,cAiBI,KAAC,IAAD,CAAM,KAAN,0BAjBJ,cAkBI,KAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,aAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,WAAW,CAAC,qBAAvD,CACI,SAAS,CAAE,mBAACoB,KAAD,CAAW,CAClB,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACvBnB,SAAS,CAAC,CAAEJ,EAAE,CAAGS,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAD,CAA6DR,KAAnE,CAA0ED,WAAW,CAAEE,MAAM,CAACF,WAA9F,CAA2GC,KAAK,CAAEC,MAAM,CAACD,KAAzH,CAAD,CAAT,CACH,CACJ,CALL,CAMI,QAAQ,CAAE,kBAACoB,KAAD,CAAW,CAAElB,SAAS,CAAC,CAAEJ,EAAE,CAAEsB,KAAK,CAACE,MAAN,CAAatB,KAAnB,CAA0BD,WAAW,CAAEE,MAAM,CAACF,WAA9C,CAA2DC,KAAK,CAAEC,MAAM,CAACD,KAAzE,CAAD,CAAT,CAA8F,CANzH,EAlBJ,cAyBI,MAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,aAArB,CAAmC,KAAK,CAAC,MAAzC,yDAAyE,6BAAzE,GAzBJ,cA0BI,KAAC,MAAD,EAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAC,MAArC,CAA4C,IAAI,CAAC,QAAjD,CAA0D,OAAO,CAAE,iBAACoB,KAAD,CAAW,CAAEA,KAAK,CAACG,cAAN,GAAwBd,aAAa,GAAI,CAAzH,uBA1BJ,GAfJ,GADJ,CAgDH"},"metadata":{},"sourceType":"module"}