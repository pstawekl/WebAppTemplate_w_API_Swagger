{"ast":null,"code":"import{faArrowRight,faPen,faTable,faTrash}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import React from'react';import{Col,Container,Row}from'react-bootstrap';import{useNavigate}from'react-router-dom';import'../styles/object.css';import{ObjectApi}from\"../../apis\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ObjectsTable(objects,onChange){var navigate=useNavigate();var objectApi=new ObjectApi();function deleteObject(objectId,object){if(confirm(\"Czy na pewno chcesz usunąć ten zbiornik z bazy danych?\")){objectApi.deleteObject({objectId:objectId}).then(function(response){onChange(objects.filter(function(o){return o.id!==objectId;}));console.log('usunięto: ',response);});alert('Obiekt został usunięty \\n zostaniesz przekierowany do strony głównej.');navigate('/');}}function createObjectsTable(objects){return objects.map(function(data,index){var id=data.id,description=data.description,value=data.value;return/*#__PURE__*/_jsxs(Row,{className:\"objectsRow\",children:[/*#__PURE__*/_jsx(Col,{className:\"col\",children:objects[index].description}),/*#__PURE__*/_jsx(Col,{className:\"col\",children:objects[index].value}),/*#__PURE__*/_jsxs(Col,{className:\"col\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTable,id:objects[index].id,className:\"fontAwesomeButton\",onClick:function onClick(event){navigate('/getObject?'+event.currentTarget.id);}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPen,id:objects[index].id,className:\"fontAwesomeButton\",onClick:function onClick(event){navigate('/editObject?'+event.currentTarget.id);}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,id:objects[index].id,className:\"fontAwesomeButton\",onClick:function onClick(event){deleteObject(objects[index].id,objects[index]);}}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowRight,id:objects[index].id,className:\"fontAwesomeButton\",onClick:function onClick(event){return navigate('/getObject?'+(event===null||event===void 0?void 0:event.currentTarget.id));}})]})]});});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{className:\"objectsRow\",children:[/*#__PURE__*/_jsx(Col,{children:\"Opis obiektu\"}),/*#__PURE__*/_jsx(Col,{children:\"Warto\\u015B\\u0107\"}),/*#__PURE__*/_jsx(Col,{})]}),createObjectsTable(objects)]});}","map":{"version":3,"names":["faArrowRight","faPen","faTable","faTrash","FontAwesomeIcon","React","Col","Container","Row","useNavigate","ObjectApi","ObjectsTable","objects","onChange","navigate","objectApi","deleteObject","objectId","object","confirm","then","response","filter","o","id","console","log","alert","createObjectsTable","map","data","index","description","value","event","currentTarget"],"sources":["C:/Users/STW/OneDrive/Dokumenty/VSC/projekt na studia/frontend/src/pages/components/objectsTable.tsx"],"sourcesContent":["import { faArrowRight, faPen, faTable, faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/object.css';\r\nimport { ModelObject as Object } from \"../../models/ModelObject\";\r\nimport { ObjectApi } from \"../../apis\";\r\n\r\nexport default function ObjectsTable(objects: Array<Object>, onChange: (objects: Array<Object>) => void): any {\r\n    const navigate = useNavigate();\r\n    const objectApi = new ObjectApi();\r\n\r\n    function deleteObject(objectId: string, object: Object) {\r\n        if (confirm(\"Czy na pewno chcesz usunąć ten zbiornik z bazy danych?\")) {\r\n            objectApi.deleteObject({ objectId: objectId })\r\n                .then(response => {\r\n                    onChange(objects.filter(o => o.id !== objectId));\r\n                    console.log('usunięto: ', response)\r\n                })\r\n\r\n                alert('Obiekt został usunięty \\n zostaniesz przekierowany do strony głównej.');\r\n                navigate('/');\r\n                \r\n        }\r\n    }\r\n\r\n    function createObjectsTable(objects: Array<Object>) {\r\n        return (\r\n            objects.map((data: any, index: any) => {\r\n                const { id, description, value } = data;\r\n                return (\r\n                    <Row className='objectsRow'>\r\n                        <Col className='col'>{objects[index].description}</Col>\r\n                        <Col className='col'>{objects[index].value}</Col>\r\n                        <Col className='col'>\r\n                            <FontAwesomeIcon icon={faTable} id={objects[index].id} className='fontAwesomeButton' onClick={(event) => { navigate('/getObject?' + event.currentTarget.id) }} />\r\n                            <FontAwesomeIcon icon={faPen} id={objects[index].id} className='fontAwesomeButton' onClick={(event) => { navigate('/editObject?' + event.currentTarget.id) }} />\r\n                            <FontAwesomeIcon icon={faTrash} id={objects[index].id} className='fontAwesomeButton' onClick={(event) => { deleteObject(objects[index].id, objects[index]) }} />\r\n                            <FontAwesomeIcon icon={faArrowRight} id={objects[index].id} className='fontAwesomeButton' onClick={(event) => navigate('/getObject?' + event?.currentTarget.id)} />\r\n                        </Col>\r\n                    </Row>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row className='objectsRow'>\r\n                <Col>Opis obiektu</Col>\r\n                <Col>Wartość</Col>\r\n                <Col></Col>\r\n            </Row>\r\n            {createObjectsTable(objects)}\r\n        </Container>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}